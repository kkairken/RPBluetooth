# –°–≤–æ–¥–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞: name 'Tuple' is not defined

### –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

**–î–∞—Ç–∞**: 2026-01-24

**–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–∏—Å—Ç–µ–º—ã –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –æ—à–∏–±–∫–∞:
```
NameError: name 'Tuple' is not defined. Did you mean 'tuple'?
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:
1. –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `Tuple` –≤ `src/config.py` (—Å—Ç—Ä–æ–∫–∞ 8)
2. –ò–∑–º–µ–Ω—ë–Ω —Ç–∏–ø `detector_min_face_size` —Å `tuple` –Ω–∞ `Tuple[int, int]` (—Å—Ç—Ä–æ–∫–∞ 33)

**–ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**:
- `src/config.py`

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ

### –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –í—Å–µ 17 —Ñ–∞–π–ª–æ–≤ —É—Å–ø–µ—à–Ω–æ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω—ã
python3 test_syntax.py
# ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: 17 —Ñ–∞–π–ª–æ–≤ OK, 0 –æ—à–∏–±–æ–∫
```

---

## üìö –°–æ–∑–¥–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

### 1. DEPLOYMENT_CHECKLIST.md
–ü–æ–ª–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç –¥–µ–ø–ª–æ—è —Å —Ä–µ—à–µ–Ω–∏–µ–º –≤—Å–µ—Ö —Ç–∏–ø–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º:
- ‚ùå –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è
- ‚öôÔ∏è –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- üîß –ü—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–ø—É—Å–∫–æ–º
- üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º
- ‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç

### 2. DEPLOY_QUICK.md
–ë—ã—Å—Ç—Ä–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–µ–ø–ª–æ—è (30-40 –º–∏–Ω—É—Ç):
- 8 –ø–æ—à–∞–≥–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π
- –ö–æ–º–∞–Ω–¥—ã –≥–æ—Ç–æ–≤—ã–µ –∫ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—é
- –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
- –ß–µ–∫-–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

### 3. CODE_FIXES_NEEDED.md
–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é –∫–æ–¥–∞:
- üî¥ 3 –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- üü° 3 —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã—Ö —É–ª—É—á—à–µ–Ω–∏—è
- üü¢ 2 –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —É–ª—É—á—à–µ–Ω–∏—è
- –ì–æ—Ç–æ–≤—ã–π –∫–æ–¥ –¥–ª—è –ø–∞—Ç—á–µ–π

### 4. BUGFIX_TUPLE.md
–î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–∫–∏ Tuple

### 5. FIX_SUMMARY.md (—ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç)
–°–≤–æ–¥–∫–∞ –≤—Å–µ—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

---

## üöÄ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
```bash
cd /home/pi/rp3_face_access
python3 test_syntax.py
# –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏: ‚úÖ –í—Å–µ —Ñ–∞–π–ª—ã –±–µ–∑ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫!
```

### –®–∞–≥ 2: –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–µ–ø–ª–æ—è
–û—Ç–∫—Ä–æ–π—Ç–µ –∏ —Å–ª–µ–¥—É–π—Ç–µ –æ–¥–Ω–æ–º—É –∏–∑ –≥–∞–π–¥–æ–≤:

**–î–ª—è –Ω–æ–≤–∏—á–∫–æ–≤**:
```bash
cat RASPBERRY_PI_GUIDE.md  # 15 —à–∞–≥–æ–≤ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏
```

**–î–ª—è –æ–ø—ã—Ç–Ω—ã—Ö**:
```bash
cat DEPLOY_QUICK.md  # –ë—ã—Å—Ç—Ä–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è, 8 —à–∞–≥–æ–≤
```

**–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–±–ª–µ–º**:
```bash
cat DEPLOYMENT_CHECKLIST.md  # –ü–æ–ª–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç —Å —Ä–µ—à–µ–Ω–∏—è–º–∏
```

### –®–∞–≥ 3: –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

1. **–°–∫–∞—á–∞–π—Ç–µ ONNX –º–æ–¥–µ–ª—å**:
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ: https://github.com/deepinsight/insightface
   - –°–∫–∞—á–∞–π—Ç–µ buffalo_s, buffalo_m –∏–ª–∏ buffalo_l
   - –ü–æ–º–µ—Å—Ç–∏—Ç–µ .onnx —Ñ–∞–π–ª –≤ `models/`

2. **–ò–∑–º–µ–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é**:
   ```bash
   cp config/usb_config.yaml config/my_config.yaml
   nano config/my_config.yaml
   ```

   –ò–∑–º–µ–Ω–∏—Ç–µ:
   - `face.onnx_model_path` - —É–∫–∞–∂–∏—Ç–µ –∏–º—è –≤–∞—à–µ–≥–æ .onnx —Ñ–∞–π–ª–∞
   - `ble.shared_secret` - —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–π —Å–µ–∫—Ä–µ—Ç
   - `camera.device_id` - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–æ–º–µ—Ä –∫–∞–º–µ—Ä—ã (–æ–±—ã—á–Ω–æ 0)
   - `lock.mock_mode: true` - –¥–ª—è –ø–µ—Ä–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ**:
   ```bash
   source venv/bin/activate
   python src/main.py --config config/my_config.yaml
   ```

---

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: "ImportError: No module named 'config'"

**–†–µ—à–µ–Ω–∏–µ**:
```bash
# –ó–∞–ø—É—Å–∫–∞–π—Ç–µ –∏–∑ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
cd /home/pi/rp3_face_access

# –î–æ–±–∞–≤—å—Ç–µ src –≤ PYTHONPATH
export PYTHONPATH="$PWD/src:$PYTHONPATH"
python src/main.py --config config/my_config.yaml
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: "FileNotFoundError: models/insightface_medium.onnx"

**–†–µ—à–µ–Ω–∏–µ**:
```bash
# –°–∫–∞—á–∞–π—Ç–µ ONNX –º–æ–¥–µ–ª—å (—Å–º. –®–∞–≥ 3 –≤—ã—à–µ)
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø—É—Ç—å –≤ –∫–æ–Ω—Ñ–∏–≥–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –∏–º–µ–Ω–µ–º —Ñ–∞–π–ª–∞
ls models/
grep onnx_model_path config/my_config.yaml
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: "PermissionError: /dev/gpiochip0"

**–†–µ—à–µ–Ω–∏–µ**:
```bash
# –î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É gpio
sudo usermod -a -G gpio $USER
sudo reboot

# –ò–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ –≤–∫–ª—é—á–∏—Ç–µ mock —Ä–µ–∂–∏–º
# –í config/my_config.yaml: lock.mock_mode: true
```

### –ü—Ä–æ–±–ª–µ–º–∞ 4: "Camera not opened"

**–†–µ—à–µ–Ω–∏–µ**:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–∞–º–µ—Ä—ã
v4l2-ctl --list-devices

# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ ID
python3 -c "import cv2; [print(f'ID {i}: OK' if cv2.VideoCapture(i).isOpened() else f'ID {i}: FAIL') for i in range(5)]"

# –û–±–Ω–æ–≤–∏—Ç–µ device_id –≤ –∫–æ–Ω—Ñ–∏–≥–µ
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏**:
   ```bash
   tail -f face_access.log
   ```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤ DEBUG —Ä–µ–∂–∏–º–µ**:
   ```bash
   python src/main.py --config config/my_config.yaml --log-level DEBUG
   ```

3. **–û—Ç–∫—Ä–æ–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –¥–æ–∫—É–º–µ–Ω—Ç**:
   - –ü—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ –¥–µ–ø–ª–æ–µ ‚Üí `DEPLOYMENT_CHECKLIST.md`
   - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç ‚Üí `DEPLOY_QUICK.md`
   - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è ‚Üí `RASPBERRY_PI_GUIDE.md`
   - –ß–µ–∫-–ª–∏—Å—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí `TODO_USER.md`

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π —á–µ–∫-–ª–∏—Å—Ç

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

- [x] –û—à–∏–±–∫–∞ "Tuple is not defined" –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞
- [x] –°–∏–Ω—Ç–∞–∫—Å–∏—Å –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–≤–µ—Ä–µ–Ω (17/17 OK)
- [ ] ONNX –º–æ–¥–µ–ª—å —Å–∫–∞—á–∞–Ω–∞ –∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ models/
- [ ] –ö–æ–Ω—Ñ–∏–≥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω (my_config.yaml)
- [ ] –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –∏–∑–º–µ–Ω—ë–Ω –Ω–∞ —Å–ª—É—á–∞–π–Ω—ã–π
- [ ] –ü—É—Ç—å –∫ –º–æ–¥–µ–ª–∏ –≤ –∫–æ–Ω—Ñ–∏–≥–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- [ ] –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (pip install -r requirements.txt)
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ –≥—Ä—É–ø–ø–µ gpio (–∏–ª–∏ mock_mode: true)
- [ ] –ö–∞–º–µ—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –°–∏—Å—Ç–µ–º–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

---

## üéâ –ì–æ—Ç–æ–≤–æ –∫ –∑–∞–ø—É—Å–∫—É!

–ö–æ–¥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤—ã—à–µ –¥–ª—è —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è.

**–£–¥–∞—á–∏!** üöÄ

---

**–í–µ—Ä—Å–∏—è**: 1.0
**–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: 2026-01-24
**–°—Ç–∞—Ç—É—Å**: –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é
